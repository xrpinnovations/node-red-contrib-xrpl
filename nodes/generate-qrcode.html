<script type="text/x-red" data-template-name="generate-qrcode">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Node Name</label>
        <input type="text" id="node-input-name" placeholder="Node Name">
    </div>
    <div class="form-row">
        <label for="node-input-data"><i class="fa fa-tag"></i> Data</label>
        <input type="text" id="node-input-data" placeholder="Input Data">
    </div>
</div>
</script>

<script type="text/x-red" data-help-name="generate-qrcode">

  <p>This node generates a QR code (Base64 image) when an input is received.</p>
  <h3>Input</h3>
   <p>
     Input can either be received as a string via <b>msg.payload</b>, or set within the node interface.
   </p>
   <dl class="message-properties">
        <dt>Data / msg.payload.data
            <span class="property-type">String</span>
        </dt>
        <dd> To encode as a QR base64 image type.</dd>
    </dl>
  <h3>Output</h3>
   <p><b>msg</b>. An object containing either of the following:</p>
   <dl class="message-properties">
        <dt>msg.payload
            <span class="property-type">String</span>
        </dt>
        <dd> Base64 image.</dd>
    </dl>
</script>

<script type="text/javascript">
    RED.nodes.registerType('generate-qrcode',{
        category: 'XRPL',      // the palette category
        color: '#d8bfd8',
        defaults: {             // defines the editable properties of the node
            name: {value:""},
            data: {value:""}
        },
        inputs:1,               // set the number of inputs - only 0 or 1
        outputs:1,              // set the number of outputs - 0 to n
        // set the icon (held in icons dir below where you save the node)
        icon: "qr-code.png",     // saved in  icons/myicon.png
        label: function() {     // sets the default label contents
            return this.name||"Generate QR Code";
        },
        labelStyle: function() { // sets the class to apply to the label
            return this.name?"node_label_italic":"";
        }
    });
</script>
